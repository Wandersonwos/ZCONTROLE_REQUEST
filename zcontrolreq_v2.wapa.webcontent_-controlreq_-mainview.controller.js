sap.ui                                                                                                                                                                                                                                                         
		.controller(                                                                                                                                                                                                                                                 
				"controlreq.MainView",                                                                                                                                                                                                                                     
				{                                                                                                                                                                                                                                                          
					/**                                                                                                                                                                                                                                                       
					 * Called when a controller is instantiated and its View                                                                                                                                                                                                  
					 * controls (if available) are already created. Can be used                                                                                                                                                                                               
					 * to modify the View before it is displayed, to bind event                                                                                                                                                                                               
					 * handlers and do other one-time initialization.                                                                                                                                                                                                         
					 *&nbsp;                                                                                                                                                                                                                                                  
					 * @memberOf controlreq.MainView                                                                                                                                                                                                                          
					 */                                                                                                                                                                                                                                                       
					onInit : function() {                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
//						var sUrl = "http://u19sde00.sotreq.net:8000/sap/opu/odata/SAP/ZCONTROLE_REQUEST_SRV";                                                                                                                                                                  
						var sServidor = "http://10.198.208.18:8000";                                                                                                                                                                                                             
						// var sUrl = sServidor + "/sap/opu/odata/SAP/ZCONTROLE_REQUEST_SRV";                                                                                                                                                                                    
						var sUrl = "/sap/opu/odata/SAP/ZCONTROLE_REQUEST_SRV";                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
						function getCookie(c_name)                                                                                                                                                                                                                               
						{                                                                                                                                                                                                                                                        
						    var i,x,y,ARRcookies=document.cookie.split(";");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
						    for (i=0;i<ARRcookies.length;i++)                                                                                                                                                                                                                    
						    {                                                                                                                                                                                                                                                    
						        x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));                                                                                                                                                                                            
						        y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);                                                                                                                                                                                            
						        x=x.replace(/^\s+|\s+$/g,"");                                                                                                                                                                                                                    
						        if (x==c_name)                                                                                                                                                                                                                                   
						        {                                                                                                                                                                                                                                                
						            return unescape(y);                                                                                                                                                                                                                          
						        }                                                                                                                                                                                                                                                
						     }                                                                                                                                                                                                                                                   
						}                                                                                                                                                                                                                                                        
						                                                                                                                                                                                                                                                         
						var sToken =  getCookie("SAP_SESSIONID_ED0_100");                                                                                                                                                                                                        
						console.log( "Token Ã© " + sToken );                                                                                                                                                                                                                      
						// Create an instance of sap.ui.model                                                                                                                                                                                                                    
						// var oModel = new sap.ui.model.odata.ODataModel(sUrl, true, "9999567", "rafa100");                                                                                                                                                                     
					//	var oheaders = { "x-csrf-token": sToken };                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
						                                                                                                                                                                                                                                                         
					//	var OData = new sap.ui.model.odata.ODataModel(serviceURI,true ,username,password);                                                                                                                                                                     
					 var oModel = new sap.ui.model.odata.ODataModel(sUrl, true);						                                                                                                                                                                                        
					//	var oModel = new sap.ui.model.odata.v2.ODataModel(sUrl, {headers: oheaders });                                                                                                                                                                         
					// oModel.setHeaders({ "x-csrf-token": "Fetch" });                                                                                                                                                                                                        
						sap.ui.getCore().setModel(oModel);                                                                                                                                                                                                                       
					},                                                                                                                                                                                                                                                        
					/**                                                                                                                                                                                                                                                       
					 * Similar to onAfterRendering, but this hook is invoked                                                                                                                                                                                                  
					 * before the controller's View is re-rendered (NOT before                                                                                                                                                                                                
					 * the first rendering! onInit() is used for that one!).                                                                                                                                                                                                  
					 *&nbsp;                                                                                                                                                                                                                                                  
					 * @memberOf controlreq.MainView                                                                                                                                                                                                                          
					 */                                                                                                                                                                                                                                                       
					// onBeforeRendering: function() {                                                                                                                                                                                                                        
					//                                                                                                                                                                                                                                                        
					// },                                                                                                                                                                                                                                                     
					/**                                                                                                                                                                                                                                                       
					 * Called when the View has been rendered (so its HTML is                                                                                                                                                                                                 
					 * part of the document). Post-rendering manipulations of                                                                                                                                                                                                 
					 * the HTML could be done here. This hook is the same one                                                                                                                                                                                                 
					 * that SAPUI5 controls get after being rendered.                                                                                                                                                                                                         
					 *&nbsp;                                                                                                                                                                                                                                                  
					 * @memberOf controlreq.MainView                                                                                                                                                                                                                          
					 */                                                                                                                                                                                                                                                       
					// onAfterRendering: function() {                                                                                                                                                                                                                         
					//                                                                                                                                                                                                                                                        
					// },                                                                                                                                                                                                                                                     
					/**                                                                                                                                                                                                                                                       
					 * Called when the Controller is destroyed. Use this one to                                                                                                                                                                                               
					 * free resources and finalize activities.                                                                                                                                                                                                                
					 *&nbsp;                                                                                                                                                                                                                                                  
					 * @memberOf controlreq.MainView                                                                                                                                                                                                                          
					 */                                                                                                                                                                                                                                                       
					// onExit: function() {                                                                                                                                                                                                                                   
					//                                                                                                                                                                                                                                                        
					// }                                                                                                                                                                                                                                                      
					doIt : function(oEvent) {                                                                                                                                                                                                                                 
						var vCodDemanda = sap.ui.getCore().byId("fDemanda").getValue();                                                                                                                                                                                          
						var oFilter = new sap.ui.model.Filter("Demanda",sap.ui.model.FilterOperator.EQ, vCodDemanda);                                                                                                                                                            
						var oTable = sap.ui.getCore().byId("tRequests");                                                                                                                                                                                                         
						oTable.getBinding("items").filter([ oFilter ]);                                                                                                                                                                                                          
						sap.m.MessageToast.show("Buscando Requests...");                                                                                                                                                                                                         
					}                                                                                                                                                                                                                                                         
					                                                                                                                                                                                                                                                          
				});                                                                                                                                                                                                                                                        